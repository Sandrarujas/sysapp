{"ast":null,"code":"\"use client\";import{useState,useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import axios from\"axios\";import styles from\"../styles/Notifications.module.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Notifications=()=>{const[notifications,setNotifications]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(\"\");const[pagination,setPagination]=useState({page:1,limit:10,total:0,totalPages:0});const[selectedNotification,setSelectedNotification]=useState(null);const[showModal,setShowModal]=useState(false);const navigate=useNavigate();useEffect(()=>{const fetchNotifications=async()=>{try{setLoading(true);const res=await axios.get(`http://localhost:5000/api/notifications?page=${pagination.page}&limit=${pagination.limit}`);setNotifications(res.data.notifications);setPagination(res.data.pagination);setLoading(false);}catch(error){console.error(\"Error al cargar notificaciones:\",error);setError(\"No se pudieron cargar las notificaciones\");setLoading(false);}};fetchNotifications();},[pagination.page,pagination.limit]);const markAsRead=async id=>{try{await axios.put(`http://localhost:5000/api/notifications/${id}/read`);setNotifications(notifications.map(notif=>notif.id===id?{...notif,isRead:true}:notif));}catch(error){console.error(\"Error al marcar notificación:\",error);}};const markAllAsRead=async()=>{try{await axios.put(\"http://localhost:5000/api/notifications/read-all\");setNotifications(notifications.map(notif=>({...notif,isRead:true})));}catch(error){console.error(\"Error al marcar todas las notificaciones:\",error);}};const getNotificationContent=notification=>{const{type,senderUsername}=notification;switch(type){case\"like\":return`${senderUsername} le dio like a tu publicación`;case\"comment\":return`${senderUsername} comentó en tu publicación`;case\"follow\":return`${senderUsername} comenzó a seguirte`;default:return`Nueva notificación de ${senderUsername}`;}};const getNotificationLink=notification=>{const{type,postId,senderUsername}=notification;switch(type){case\"like\":case\"comment\":return`/post/${postId}`;case\"follow\":return`/profile/${senderUsername}`;default:return\"#\";}};const getNotificationIcon=type=>{const baseClass=styles[\"notification-icon\"];switch(type){case\"like\":return/*#__PURE__*/_jsx(\"i\",{className:`${baseClass} ${styles[\"like\"]} fas fa-heart`});case\"comment\":return/*#__PURE__*/_jsx(\"i\",{className:`${baseClass} ${styles[\"comment\"]} fas fa-comment`});case\"follow\":return/*#__PURE__*/_jsx(\"i\",{className:`${baseClass} ${styles[\"follow\"]} fas fa-user-plus`});default:return/*#__PURE__*/_jsx(\"i\",{className:`${baseClass} fas fa-bell`});}};const getImageUrl=imagePath=>{if(!imagePath)return\"/placeholder.svg?height=40&width=40\";if(imagePath.startsWith(\"http\"))return imagePath;return`http://localhost:5000${imagePath}`;};const openNotificationModal=notification=>{if(!notification.isRead){markAsRead(notification.id);}setSelectedNotification(notification);setShowModal(true);};const closeModal=()=>{setShowModal(false);setSelectedNotification(null);};const navigateToContent=()=>{if(selectedNotification){const link=getNotificationLink(selectedNotification);closeModal();navigate(link);}};const navigateToUserProfile=()=>{if(selectedNotification){closeModal();navigate(`/profile/${selectedNotification.senderUsername}`);}};return/*#__PURE__*/_jsxs(\"div\",{className:styles[\"notifications-page\"],children:[/*#__PURE__*/_jsxs(\"div\",{className:styles[\"notifications-header\"],children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Notificaciones\"}),/*#__PURE__*/_jsx(\"button\",{className:styles[\"mark-all-read-btn\"],onClick:markAllAsRead,children:\"Marcar todas como le\\xEDdas\"})]}),loading?/*#__PURE__*/_jsx(\"div\",{className:styles[\"notifications-loading\"],children:\"Cargando notificaciones...\"}):error?/*#__PURE__*/_jsx(\"div\",{className:styles[\"notifications-error\"],children:error}):notifications.length>0?/*#__PURE__*/_jsx(\"div\",{className:styles[\"notifications-list\"],children:notifications.map(notification=>/*#__PURE__*/_jsxs(\"div\",{className:`${styles[\"notification-item\"]} ${!notification.isRead?styles[\"notification-item-unread\"]:\"\"}`,onClick:()=>openNotificationModal(notification),children:[/*#__PURE__*/_jsxs(\"div\",{className:styles[\"notification-avatar\"],children:[/*#__PURE__*/_jsx(\"img\",{src:getImageUrl(notification.senderProfileImage),alt:notification.senderUsername,onError:e=>{e.target.src=\"/placeholder.svg?height=40&width=40\";}}),getNotificationIcon(notification.type)]}),/*#__PURE__*/_jsxs(\"div\",{className:styles[\"notification-content\"],children:[/*#__PURE__*/_jsx(\"p\",{children:getNotificationContent(notification)}),/*#__PURE__*/_jsxs(\"span\",{className:styles[\"notification-time\"],children:[new Date(notification.createdAt).toLocaleDateString(),\" \",new Date(notification.createdAt).toLocaleTimeString()]})]}),!notification.isRead&&/*#__PURE__*/_jsx(\"div\",{className:styles[\"notification-dot\"]})]},notification.id))}):/*#__PURE__*/_jsx(\"div\",{className:styles[\"notifications-empty\"],children:\"No tienes notificaciones\"}),pagination.totalPages>1&&/*#__PURE__*/_jsxs(\"div\",{className:styles[\"notifications-pagination\"],children:[/*#__PURE__*/_jsx(\"button\",{className:styles[\"pagination-button\"],onClick:()=>setPagination({...pagination,page:pagination.page-1}),disabled:pagination.page===1||loading,children:\"Anterior\"}),/*#__PURE__*/_jsxs(\"div\",{className:styles[\"pagination-info\"],children:[\"P\\xE1gina \",pagination.page,\" de \",pagination.totalPages]}),/*#__PURE__*/_jsx(\"button\",{className:styles[\"pagination-button\"],onClick:()=>setPagination({...pagination,page:pagination.page+1}),disabled:pagination.page===pagination.totalPages||loading,children:\"Siguiente\"})]}),showModal&&selectedNotification&&/*#__PURE__*/_jsx(\"div\",{className:styles[\"notification-modal-overlay\"],onClick:closeModal,children:/*#__PURE__*/_jsxs(\"div\",{className:styles[\"notification-modal\"],onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:styles[\"notification-modal-header\"],children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Notificaci\\xF3n\"}),/*#__PURE__*/_jsx(\"button\",{className:styles[\"close-modal\"],onClick:closeModal,children:\"\\xD7\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles[\"notification-modal-content\"],children:[/*#__PURE__*/_jsxs(\"div\",{className:styles[\"notification-modal-user\"],children:[/*#__PURE__*/_jsx(\"img\",{src:getImageUrl(selectedNotification.senderProfileImage),alt:selectedNotification.senderUsername,className:styles[\"notification-modal-avatar\"],onError:e=>{e.target.src=\"/placeholder.svg?height=60&width=60\";}}),/*#__PURE__*/_jsxs(\"div\",{className:styles[\"notification-modal-user-info\"],children:[/*#__PURE__*/_jsx(\"h4\",{children:selectedNotification.senderUsername}),/*#__PURE__*/_jsxs(\"p\",{className:styles[\"notification-modal-time\"],children:[new Date(selectedNotification.createdAt).toLocaleDateString(),\" \",new Date(selectedNotification.createdAt).toLocaleTimeString()]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:styles[\"notification-modal-message\"],children:/*#__PURE__*/_jsx(\"p\",{children:getNotificationContent(selectedNotification)})}),/*#__PURE__*/_jsxs(\"div\",{className:styles[\"notification-modal-actions\"],children:[/*#__PURE__*/_jsxs(\"button\",{className:`${styles[\"notification-modal-btn\"]} ${styles[\"profile\"]}`,onClick:navigateToUserProfile,children:[\"Ver perfil de \",selectedNotification.senderUsername]}),selectedNotification.type!==\"follow\"&&/*#__PURE__*/_jsx(\"button\",{className:`${styles[\"notification-modal-btn\"]} ${styles[\"content\"]}`,onClick:navigateToContent,children:selectedNotification.type===\"like\"?\"Ver publicación\":\"Ver comentario\"})]})]})]})})]});};export default Notifications;","map":{"version":3,"names":["useState","useEffect","useNavigate","axios","styles","jsx","_jsx","jsxs","_jsxs","Notifications","notifications","setNotifications","loading","setLoading","error","setError","pagination","setPagination","page","limit","total","totalPages","selectedNotification","setSelectedNotification","showModal","setShowModal","navigate","fetchNotifications","res","get","data","console","markAsRead","id","put","map","notif","isRead","markAllAsRead","getNotificationContent","notification","type","senderUsername","getNotificationLink","postId","getNotificationIcon","baseClass","className","getImageUrl","imagePath","startsWith","openNotificationModal","closeModal","navigateToContent","link","navigateToUserProfile","children","onClick","length","src","senderProfileImage","alt","onError","e","target","Date","createdAt","toLocaleDateString","toLocaleTimeString","disabled","stopPropagation"],"sources":["C:/Users/34615/Desktop/TFC_sys/ProyectoFinal_sys/client/src/pages/Notifications.jsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport { useNavigate } from \"react-router-dom\"\r\nimport axios from \"axios\"\r\nimport styles from \"../styles/Notifications.module.css\"\r\n\r\nconst Notifications = () => {\r\n  const [notifications, setNotifications] = useState([])\r\n  const [loading, setLoading] = useState(true)\r\n  const [error, setError] = useState(\"\")\r\n  const [pagination, setPagination] = useState({\r\n    page: 1,\r\n    limit: 10,\r\n    total: 0,\r\n    totalPages: 0,\r\n  })\r\n\r\n  const [selectedNotification, setSelectedNotification] = useState(null)\r\n  const [showModal, setShowModal] = useState(false)\r\n\r\n  const navigate = useNavigate()\r\n\r\n  useEffect(() => {\r\n    const fetchNotifications = async () => {\r\n      try {\r\n        setLoading(true)\r\n        const res = await axios.get(\r\n          `http://localhost:5000/api/notifications?page=${pagination.page}&limit=${pagination.limit}`\r\n        )\r\n        setNotifications(res.data.notifications)\r\n        setPagination(res.data.pagination)\r\n        setLoading(false)\r\n      } catch (error) {\r\n        console.error(\"Error al cargar notificaciones:\", error)\r\n        setError(\"No se pudieron cargar las notificaciones\")\r\n        setLoading(false)\r\n      }\r\n    }\r\n\r\n    fetchNotifications()\r\n  }, [pagination.page, pagination.limit])\r\n\r\n  const markAsRead = async (id) => {\r\n    try {\r\n      await axios.put(`http://localhost:5000/api/notifications/${id}/read`)\r\n      setNotifications(\r\n        notifications.map((notif) =>\r\n          notif.id === id ? { ...notif, isRead: true } : notif\r\n        )\r\n      )\r\n    } catch (error) {\r\n      console.error(\"Error al marcar notificación:\", error)\r\n    }\r\n  }\r\n\r\n  const markAllAsRead = async () => {\r\n    try {\r\n      await axios.put(\"http://localhost:5000/api/notifications/read-all\")\r\n      setNotifications(notifications.map((notif) => ({ ...notif, isRead: true })))\r\n    } catch (error) {\r\n      console.error(\"Error al marcar todas las notificaciones:\", error)\r\n    }\r\n  }\r\n\r\n  const getNotificationContent = (notification) => {\r\n    const { type, senderUsername } = notification\r\n    switch (type) {\r\n      case \"like\":\r\n        return `${senderUsername} le dio like a tu publicación`\r\n      case \"comment\":\r\n        return `${senderUsername} comentó en tu publicación`\r\n      case \"follow\":\r\n        return `${senderUsername} comenzó a seguirte`\r\n      default:\r\n        return `Nueva notificación de ${senderUsername}`\r\n    }\r\n  }\r\n\r\n  const getNotificationLink = (notification) => {\r\n    const { type, postId, senderUsername } = notification\r\n    switch (type) {\r\n      case \"like\":\r\n      case \"comment\":\r\n        return `/post/${postId}`\r\n      case \"follow\":\r\n        return `/profile/${senderUsername}`\r\n      default:\r\n        return \"#\"\r\n    }\r\n  }\r\n\r\n  const getNotificationIcon = (type) => {\r\n    const baseClass = styles[\"notification-icon\"]\r\n    switch (type) {\r\n      case \"like\":\r\n        return <i className={`${baseClass} ${styles[\"like\"]} fas fa-heart`} />\r\n      case \"comment\":\r\n        return <i className={`${baseClass} ${styles[\"comment\"]} fas fa-comment`} />\r\n      case \"follow\":\r\n        return <i className={`${baseClass} ${styles[\"follow\"]} fas fa-user-plus`} />\r\n      default:\r\n        return <i className={`${baseClass} fas fa-bell`} />\r\n    }\r\n  }\r\n\r\n  const getImageUrl = (imagePath) => {\r\n    if (!imagePath) return \"/placeholder.svg?height=40&width=40\"\r\n    if (imagePath.startsWith(\"http\")) return imagePath\r\n    return `http://localhost:5000${imagePath}`\r\n  }\r\n\r\n  const openNotificationModal = (notification) => {\r\n    if (!notification.isRead) {\r\n      markAsRead(notification.id)\r\n    }\r\n    setSelectedNotification(notification)\r\n    setShowModal(true)\r\n  }\r\n\r\n  const closeModal = () => {\r\n    setShowModal(false)\r\n    setSelectedNotification(null)\r\n  }\r\n\r\n  const navigateToContent = () => {\r\n    if (selectedNotification) {\r\n      const link = getNotificationLink(selectedNotification)\r\n      closeModal()\r\n      navigate(link)\r\n    }\r\n  }\r\n\r\n  const navigateToUserProfile = () => {\r\n    if (selectedNotification) {\r\n      closeModal()\r\n      navigate(`/profile/${selectedNotification.senderUsername}`)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={styles[\"notifications-page\"]}>\r\n      <div className={styles[\"notifications-header\"]}>\r\n        <h1>Notificaciones</h1>\r\n        <button className={styles[\"mark-all-read-btn\"]} onClick={markAllAsRead}>\r\n          Marcar todas como leídas\r\n        </button>\r\n      </div>\r\n\r\n      {loading ? (\r\n        <div className={styles[\"notifications-loading\"]}>Cargando notificaciones...</div>\r\n      ) : error ? (\r\n        <div className={styles[\"notifications-error\"]}>{error}</div>\r\n      ) : notifications.length > 0 ? (\r\n        <div className={styles[\"notifications-list\"]}>\r\n          {notifications.map((notification) => (\r\n            <div\r\n              key={notification.id}\r\n              className={`${styles[\"notification-item\"]} ${\r\n                !notification.isRead ? styles[\"notification-item-unread\"] : \"\"\r\n              }`}\r\n              onClick={() => openNotificationModal(notification)}\r\n            >\r\n              <div className={styles[\"notification-avatar\"]}>\r\n                <img\r\n                  src={getImageUrl(notification.senderProfileImage)}\r\n                  alt={notification.senderUsername}\r\n                  onError={(e) => {\r\n                    e.target.src = \"/placeholder.svg?height=40&width=40\"\r\n                  }}\r\n                />\r\n                {getNotificationIcon(notification.type)}\r\n              </div>\r\n              <div className={styles[\"notification-content\"]}>\r\n                <p>{getNotificationContent(notification)}</p>\r\n                <span className={styles[\"notification-time\"]}>\r\n                  {new Date(notification.createdAt).toLocaleDateString()}{\" \"}\r\n                  {new Date(notification.createdAt).toLocaleTimeString()}\r\n                </span>\r\n              </div>\r\n              {!notification.isRead && <div className={styles[\"notification-dot\"]} />}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      ) : (\r\n        <div className={styles[\"notifications-empty\"]}>No tienes notificaciones</div>\r\n      )}\r\n\r\n      {pagination.totalPages > 1 && (\r\n        <div className={styles[\"notifications-pagination\"]}>\r\n          <button\r\n            className={styles[\"pagination-button\"]}\r\n            onClick={() =>\r\n              setPagination({ ...pagination, page: pagination.page - 1 })\r\n            }\r\n            disabled={pagination.page === 1 || loading}\r\n          >\r\n            Anterior\r\n          </button>\r\n          <div className={styles[\"pagination-info\"]}>\r\n            Página {pagination.page} de {pagination.totalPages}\r\n          </div>\r\n          <button\r\n            className={styles[\"pagination-button\"]}\r\n            onClick={() =>\r\n              setPagination({ ...pagination, page: pagination.page + 1 })\r\n            }\r\n            disabled={pagination.page === pagination.totalPages || loading}\r\n          >\r\n            Siguiente\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {showModal && selectedNotification && (\r\n        <div\r\n          className={styles[\"notification-modal-overlay\"]}\r\n          onClick={closeModal}\r\n        >\r\n          <div\r\n            className={styles[\"notification-modal\"]}\r\n            onClick={(e) => e.stopPropagation()}\r\n          >\r\n            <div className={styles[\"notification-modal-header\"]}>\r\n              <h3>Notificación</h3>\r\n              <button className={styles[\"close-modal\"]} onClick={closeModal}>\r\n                ×\r\n              </button>\r\n            </div>\r\n            <div className={styles[\"notification-modal-content\"]}>\r\n              <div className={styles[\"notification-modal-user\"]}>\r\n                <img\r\n                  src={getImageUrl(selectedNotification.senderProfileImage)}\r\n                  alt={selectedNotification.senderUsername}\r\n                  className={styles[\"notification-modal-avatar\"]}\r\n                  onError={(e) => {\r\n                    e.target.src = \"/placeholder.svg?height=60&width=60\"\r\n                  }}\r\n                />\r\n                <div className={styles[\"notification-modal-user-info\"]}>\r\n                  <h4>{selectedNotification.senderUsername}</h4>\r\n                  <p className={styles[\"notification-modal-time\"]}>\r\n                    {new Date(selectedNotification.createdAt).toLocaleDateString()}{\" \"}\r\n                    {new Date(selectedNotification.createdAt).toLocaleTimeString()}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n              <div className={styles[\"notification-modal-message\"]}>\r\n                <p>{getNotificationContent(selectedNotification)}</p>\r\n              </div>\r\n              <div className={styles[\"notification-modal-actions\"]}>\r\n                <button\r\n                  className={`${styles[\"notification-modal-btn\"]} ${styles[\"profile\"]}`}\r\n                  onClick={navigateToUserProfile}\r\n                >\r\n                  Ver perfil de {selectedNotification.senderUsername}\r\n                </button>\r\n                {selectedNotification.type !== \"follow\" && (\r\n                  <button\r\n                    className={`${styles[\"notification-modal-btn\"]} ${styles[\"content\"]}`}\r\n                    onClick={navigateToContent}\r\n                  >\r\n                    {selectedNotification.type === \"like\"\r\n                      ? \"Ver publicación\"\r\n                      : \"Ver comentario\"}\r\n                  </button>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notifications\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}