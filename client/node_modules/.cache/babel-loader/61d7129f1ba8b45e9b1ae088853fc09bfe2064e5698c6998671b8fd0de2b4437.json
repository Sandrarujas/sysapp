{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\34615\\\\Desktop\\\\ProyectoFinal_sys\\\\client\\\\src\\\\components\\\\NotificationList.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport \"../App.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NotificationList = () => {\n  _s();\n  const [notifications, setNotifications] = useState([]);\n  const [unreadCount, setUnreadCount] = useState(0);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n  const [showDropdown, setShowDropdown] = useState(false);\n  const [selectedNotification, setSelectedNotification] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const navigate = useNavigate();\n  useEffect(() => {\n    if (showDropdown) {\n      fetchNotifications();\n    }\n  }, [showDropdown]);\n  const fetchNotifications = async () => {\n    try {\n      setLoading(true);\n      const res = await axios.get(\"http://localhost:5000/api/notifications?limit=5\");\n      setNotifications(res.data.notifications);\n      setUnreadCount(res.data.unreadCount);\n      setLoading(false);\n    } catch (error) {\n      console.error(\"Error al cargar notificaciones:\", error);\n      setError(\"No se pudieron cargar las notificaciones\");\n      setLoading(false);\n    }\n  };\n  const markAsRead = async id => {\n    try {\n      await axios.put(`http://localhost:5000/api/notifications/${id}/read`);\n      setNotifications(notifications.map(notif => notif.id === id ? {\n        ...notif,\n        isRead: true\n      } : notif));\n      setUnreadCount(prev => prev > 0 ? prev - 1 : 0);\n    } catch (error) {\n      console.error(\"Error al marcar notificación:\", error);\n    }\n  };\n  const markAllAsRead = async () => {\n    try {\n      await axios.put(\"http://localhost:5000/api/notifications/read-all\");\n      setNotifications(notifications.map(notif => ({\n        ...notif,\n        isRead: true\n      })));\n      setUnreadCount(0);\n    } catch (error) {\n      console.error(\"Error al marcar todas las notificaciones:\", error);\n    }\n  };\n  const toggleDropdown = () => {\n    setShowDropdown(!showDropdown);\n  };\n  const openNotificationModal = notification => {\n    if (!notification.isRead) {\n      markAsRead(notification.id);\n    }\n    setSelectedNotification(notification);\n    setShowModal(true);\n  };\n  const closeModal = () => {\n    setShowModal(false);\n    setSelectedNotification(null);\n  };\n  const navigateToUserProfile = () => {\n    if (selectedNotification) {\n      closeModal();\n      navigate(`/profile/${selectedNotification.senderUsername}`);\n    }\n  };\n  const getNotificationContent = notification => {\n    const {\n      type,\n      senderUsername\n    } = notification;\n    switch (type) {\n      case 'like':\n        return `${senderUsername} le dio like a tu publicación`;\n      case 'comment':\n        return `${senderUsername} comentó en tu publicación`;\n      case 'follow':\n        return `${senderUsername} comenzó a seguirte`;\n      default:\n        return `Nueva notificación de ${senderUsername}`;\n    }\n  };\n  const getNotificationIcon = type => {\n    switch (type) {\n      case 'like':\n        return /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-heart notification-icon like\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 16\n        }, this);\n      case 'comment':\n        return /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-comment notification-icon comment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 16\n        }, this);\n      case 'follow':\n        return /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-user-plus notification-icon follow\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 16\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-bell notification-icon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 16\n        }, this);\n    }\n  };\n  const getImageUrl = imagePath => {\n    if (!imagePath) return \"/placeholder.svg?height=40&width=40\";\n    if (imagePath.startsWith(\"http\")) return imagePath;\n    return `http://localhost:5000${imagePath}`;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"notification-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"notification-bell\",\n      onClick: toggleDropdown,\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fas fa-bell\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this), unreadCount > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"notification-badge\",\n        children: unreadCount\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 29\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this), showDropdown && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"notification-dropdown\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"notification-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Notificaciones\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 13\n        }, this), unreadCount > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"mark-all-read\",\n          onClick: markAllAsRead,\n          children: \"Marcar todas como le\\xEDdas\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"notification-loading\",\n        children: \"Cargando...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 13\n      }, this) : error ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"notification-error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 13\n      }, this) : notifications.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"notification-list\",\n        children: notifications.map(notification => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `notification-item ${!notification.isRead ? 'unread' : ''}`,\n          onClick: () => openNotificationModal(notification),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"notification-avatar\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: getImageUrl(notification.senderProfileImage) || \"/placeholder.svg\",\n              alt: notification.senderUsername,\n              className: \"notification-user-image\",\n              onError: e => {\n                e.target.src = \"/placeholder.svg?height=40&width=40\";\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 21\n            }, this), getNotificationIcon(notification.type)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"notification-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: getNotificationContent(notification)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"notification-time\",\n              children: new Date(notification.createdAt).toLocaleDateString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 19\n          }, this), !notification.isRead && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"notification-dot\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 44\n          }, this)]\n        }, notification.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"notification-empty\",\n        children: \"No tienes notificaciones\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"notification-footer\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/notifications\",\n          className: \"view-all\",\n          children: \"Ver todas las notificaciones\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }, this), showModal && selectedNotification && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"notification-modal-overlay\",\n      onClick: closeModal,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"notification-modal\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"notification-modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Notificaci\\xF3n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"close-modal\",\n            onClick: closeModal,\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"notification-modal-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"notification-modal-user\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: getImageUrl(selectedNotification.senderProfileImage),\n              alt: selectedNotification.senderUsername,\n              className: \"notification-modal-avatar\",\n              onError: e => {\n                e.target.src = \"/placeholder.svg?height=60&width=60\";\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"notification-modal-user-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: selectedNotification.senderUsername\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"notification-modal-time\",\n                children: [new Date(selectedNotification.createdAt).toLocaleDateString(), \" \", \" \", new Date(selectedNotification.createdAt).toLocaleTimeString()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"notification-modal-message\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: getNotificationContent(selectedNotification)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"notification-modal-actions\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"notification-modal-btn profile\",\n              onClick: navigateToUserProfile,\n              children: [\"Ver perfil de \", selectedNotification.senderUsername]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 115,\n    columnNumber: 5\n  }, this);\n};\n_s(NotificationList, \"NpwvGyV8zzMIvNRhs6TDJCPJevU=\", false, function () {\n  return [useNavigate];\n});\n_c = NotificationList;\nexport default NotificationList;\nvar _c;\n$RefreshReg$(_c, \"NotificationList\");","map":{"version":3,"names":["useState","useEffect","Link","useNavigate","axios","jsxDEV","_jsxDEV","NotificationList","_s","notifications","setNotifications","unreadCount","setUnreadCount","loading","setLoading","error","setError","showDropdown","setShowDropdown","selectedNotification","setSelectedNotification","showModal","setShowModal","navigate","fetchNotifications","res","get","data","console","markAsRead","id","put","map","notif","isRead","prev","markAllAsRead","toggleDropdown","openNotificationModal","notification","closeModal","navigateToUserProfile","senderUsername","getNotificationContent","type","getNotificationIcon","className","fileName","_jsxFileName","lineNumber","columnNumber","getImageUrl","imagePath","startsWith","children","onClick","length","src","senderProfileImage","alt","onError","e","target","Date","createdAt","toLocaleDateString","to","stopPropagation","toLocaleTimeString","_c","$RefreshReg$"],"sources":["C:/Users/34615/Desktop/ProyectoFinal_sys/client/src/components/NotificationList.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\"\r\nimport { Link, useNavigate } from \"react-router-dom\"\r\nimport axios from \"axios\"\r\nimport \"../App.css\"\r\n\r\nconst NotificationList = () => {\r\n  const [notifications, setNotifications] = useState([])\r\n  const [unreadCount, setUnreadCount] = useState(0)\r\n  const [loading, setLoading] = useState(true)\r\n  const [error, setError] = useState(\"\")\r\n  const [showDropdown, setShowDropdown] = useState(false)\r\n  const [selectedNotification, setSelectedNotification] = useState(null)\r\n  const [showModal, setShowModal] = useState(false)\r\n\r\n  const navigate = useNavigate()\r\n\r\n  useEffect(() => {\r\n    if (showDropdown) {\r\n      fetchNotifications()\r\n    }\r\n  }, [showDropdown])\r\n\r\n  const fetchNotifications = async () => {\r\n    try {\r\n      setLoading(true)\r\n      const res = await axios.get(\"http://localhost:5000/api/notifications?limit=5\")\r\n      setNotifications(res.data.notifications)\r\n      setUnreadCount(res.data.unreadCount)\r\n      setLoading(false)\r\n    } catch (error) {\r\n      console.error(\"Error al cargar notificaciones:\", error)\r\n      setError(\"No se pudieron cargar las notificaciones\")\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const markAsRead = async (id) => {\r\n    try {\r\n      await axios.put(`http://localhost:5000/api/notifications/${id}/read`)\r\n      setNotifications(notifications.map((notif) => notif.id === id ? { ...notif, isRead: true } : notif))\r\n      setUnreadCount(prev => (prev > 0 ? prev - 1 : 0))\r\n    } catch (error) {\r\n      console.error(\"Error al marcar notificación:\", error)\r\n    }\r\n  }\r\n\r\n  const markAllAsRead = async () => {\r\n    try {\r\n      await axios.put(\"http://localhost:5000/api/notifications/read-all\")\r\n      setNotifications(notifications.map((notif) => ({ ...notif, isRead: true })))\r\n      setUnreadCount(0)\r\n    } catch (error) {\r\n      console.error(\"Error al marcar todas las notificaciones:\", error)\r\n    }\r\n  }\r\n\r\n  const toggleDropdown = () => {\r\n    setShowDropdown(!showDropdown)\r\n  }\r\n\r\n  const openNotificationModal = (notification) => {\r\n    if (!notification.isRead) {\r\n      markAsRead(notification.id)\r\n    }\r\n    setSelectedNotification(notification)\r\n    setShowModal(true)\r\n  }\r\n\r\n  const closeModal = () => {\r\n    setShowModal(false)\r\n    setSelectedNotification(null)\r\n  }\r\n\r\n  const navigateToUserProfile = () => {\r\n    if (selectedNotification) {\r\n      closeModal()\r\n      navigate(`/profile/${selectedNotification.senderUsername}`)\r\n    }\r\n  }\r\n\r\n  const getNotificationContent = (notification) => {\r\n    const { type, senderUsername } = notification\r\n    switch (type) {\r\n      case 'like':\r\n        return `${senderUsername} le dio like a tu publicación`\r\n      case 'comment':\r\n        return `${senderUsername} comentó en tu publicación`\r\n      case 'follow':\r\n        return `${senderUsername} comenzó a seguirte`\r\n      default:\r\n        return `Nueva notificación de ${senderUsername}`\r\n    }\r\n  }\r\n\r\n  const getNotificationIcon = (type) => {\r\n    switch (type) {\r\n      case 'like':\r\n        return <i className=\"fas fa-heart notification-icon like\"></i>\r\n      case 'comment':\r\n        return <i className=\"fas fa-comment notification-icon comment\"></i>\r\n      case 'follow':\r\n        return <i className=\"fas fa-user-plus notification-icon follow\"></i>\r\n      default:\r\n        return <i className=\"fas fa-bell notification-icon\"></i>\r\n    }\r\n  }\r\n\r\n  const getImageUrl = (imagePath) => {\r\n    if (!imagePath) return \"/placeholder.svg?height=40&width=40\"\r\n    if (imagePath.startsWith(\"http\")) return imagePath\r\n    return `http://localhost:5000${imagePath}`\r\n  }\r\n\r\n  return (\r\n    <div className=\"notification-container\">\r\n      <div className=\"notification-bell\" onClick={toggleDropdown}>\r\n        <i className=\"fas fa-bell\"></i>\r\n        {unreadCount > 0 && <span className=\"notification-badge\">{unreadCount}</span>}\r\n      </div>\r\n\r\n      {showDropdown && (\r\n        <div className=\"notification-dropdown\">\r\n          <div className=\"notification-header\">\r\n            <h3>Notificaciones</h3>\r\n            {unreadCount > 0 && (\r\n              <button className=\"mark-all-read\" onClick={markAllAsRead}>\r\n                Marcar todas como leídas\r\n              </button>\r\n            )}\r\n          </div>\r\n\r\n          {loading ? (\r\n            <div className=\"notification-loading\">Cargando...</div>\r\n          ) : error ? (\r\n            <div className=\"notification-error\">{error}</div>\r\n          ) : notifications.length > 0 ? (\r\n            <div className=\"notification-list\">\r\n              {notifications.map((notification) => (\r\n                <div\r\n                  key={notification.id}\r\n                  className={`notification-item ${!notification.isRead ? 'unread' : ''}`}\r\n                  onClick={() => openNotificationModal(notification)}\r\n                >\r\n                  <div className=\"notification-avatar\">\r\n                    <img\r\n                      src={getImageUrl(notification.senderProfileImage) || \"/placeholder.svg\"}\r\n                      alt={notification.senderUsername}\r\n                      className=\"notification-user-image\"\r\n                      onError={(e) => {\r\n                        e.target.src = \"/placeholder.svg?height=40&width=40\"\r\n                      }}\r\n                    />\r\n                    {getNotificationIcon(notification.type)}\r\n                  </div>\r\n                  <div className=\"notification-content\">\r\n                    <p>{getNotificationContent(notification)}</p>\r\n                    <span className=\"notification-time\">\r\n                      {new Date(notification.createdAt).toLocaleDateString()}\r\n                    </span>\r\n                  </div>\r\n                  {!notification.isRead && <div className=\"notification-dot\"></div>}\r\n                </div>\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <div className=\"notification-empty\">No tienes notificaciones</div>\r\n          )}\r\n\r\n          <div className=\"notification-footer\">\r\n            <Link to=\"/notifications\" className=\"view-all\">\r\n              Ver todas las notificaciones\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {showModal && selectedNotification && (\r\n        <div className=\"notification-modal-overlay\" onClick={closeModal}>\r\n          <div className=\"notification-modal\" onClick={(e) => e.stopPropagation()}>\r\n            <div className=\"notification-modal-header\">\r\n              <h3>Notificación</h3>\r\n              <button className=\"close-modal\" onClick={closeModal}>×</button>\r\n            </div>\r\n            <div className=\"notification-modal-content\">\r\n              <div className=\"notification-modal-user\">\r\n                <img\r\n                  src={getImageUrl(selectedNotification.senderProfileImage)}\r\n                  alt={selectedNotification.senderUsername}\r\n                  className=\"notification-modal-avatar\"\r\n                  onError={(e) => {\r\n                    e.target.src = \"/placeholder.svg?height=60&width=60\"\r\n                  }}\r\n                />\r\n                <div className=\"notification-modal-user-info\">\r\n                  <h4>{selectedNotification.senderUsername}</h4>\r\n                  <p className=\"notification-modal-time\">\r\n                    {new Date(selectedNotification.createdAt).toLocaleDateString()} {\" \"}\r\n                    {new Date(selectedNotification.createdAt).toLocaleTimeString()}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n              <div className=\"notification-modal-message\">\r\n                <p>{getNotificationContent(selectedNotification)}</p>\r\n              </div>\r\n              <div className=\"notification-modal-actions\">\r\n                <button className=\"notification-modal-btn profile\" onClick={navigateToUserProfile}>\r\n                  Ver perfil de {selectedNotification.senderUsername}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default NotificationList\r\n"],"mappings":";;AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,IAAI,EAAEC,WAAW,QAAQ,kBAAkB;AACpD,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAO,YAAY;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAEnB,MAAMC,gBAAgB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC7B,MAAM,CAACC,aAAa,EAAEC,gBAAgB,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EACtD,MAAM,CAACW,WAAW,EAAEC,cAAc,CAAC,GAAGZ,QAAQ,CAAC,CAAC,CAAC;EACjD,MAAM,CAACa,OAAO,EAAEC,UAAU,CAAC,GAAGd,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACe,KAAK,EAAEC,QAAQ,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACiB,YAAY,EAAEC,eAAe,CAAC,GAAGlB,QAAQ,CAAC,KAAK,CAAC;EACvD,MAAM,CAACmB,oBAAoB,EAAEC,uBAAuB,CAAC,GAAGpB,QAAQ,CAAC,IAAI,CAAC;EACtE,MAAM,CAACqB,SAAS,EAAEC,YAAY,CAAC,GAAGtB,QAAQ,CAAC,KAAK,CAAC;EAEjD,MAAMuB,QAAQ,GAAGpB,WAAW,CAAC,CAAC;EAE9BF,SAAS,CAAC,MAAM;IACd,IAAIgB,YAAY,EAAE;MAChBO,kBAAkB,CAAC,CAAC;IACtB;EACF,CAAC,EAAE,CAACP,YAAY,CAAC,CAAC;EAElB,MAAMO,kBAAkB,GAAG,MAAAA,CAAA,KAAY;IACrC,IAAI;MACFV,UAAU,CAAC,IAAI,CAAC;MAChB,MAAMW,GAAG,GAAG,MAAMrB,KAAK,CAACsB,GAAG,CAAC,iDAAiD,CAAC;MAC9EhB,gBAAgB,CAACe,GAAG,CAACE,IAAI,CAAClB,aAAa,CAAC;MACxCG,cAAc,CAACa,GAAG,CAACE,IAAI,CAAChB,WAAW,CAAC;MACpCG,UAAU,CAAC,KAAK,CAAC;IACnB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACda,OAAO,CAACb,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;MACvDC,QAAQ,CAAC,0CAA0C,CAAC;MACpDF,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAMe,UAAU,GAAG,MAAOC,EAAE,IAAK;IAC/B,IAAI;MACF,MAAM1B,KAAK,CAAC2B,GAAG,CAAC,2CAA2CD,EAAE,OAAO,CAAC;MACrEpB,gBAAgB,CAACD,aAAa,CAACuB,GAAG,CAAEC,KAAK,IAAKA,KAAK,CAACH,EAAE,KAAKA,EAAE,GAAG;QAAE,GAAGG,KAAK;QAAEC,MAAM,EAAE;MAAK,CAAC,GAAGD,KAAK,CAAC,CAAC;MACpGrB,cAAc,CAACuB,IAAI,IAAKA,IAAI,GAAG,CAAC,GAAGA,IAAI,GAAG,CAAC,GAAG,CAAE,CAAC;IACnD,CAAC,CAAC,OAAOpB,KAAK,EAAE;MACda,OAAO,CAACb,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;IACvD;EACF,CAAC;EAED,MAAMqB,aAAa,GAAG,MAAAA,CAAA,KAAY;IAChC,IAAI;MACF,MAAMhC,KAAK,CAAC2B,GAAG,CAAC,kDAAkD,CAAC;MACnErB,gBAAgB,CAACD,aAAa,CAACuB,GAAG,CAAEC,KAAK,KAAM;QAAE,GAAGA,KAAK;QAAEC,MAAM,EAAE;MAAK,CAAC,CAAC,CAAC,CAAC;MAC5EtB,cAAc,CAAC,CAAC,CAAC;IACnB,CAAC,CAAC,OAAOG,KAAK,EAAE;MACda,OAAO,CAACb,KAAK,CAAC,2CAA2C,EAAEA,KAAK,CAAC;IACnE;EACF,CAAC;EAED,MAAMsB,cAAc,GAAGA,CAAA,KAAM;IAC3BnB,eAAe,CAAC,CAACD,YAAY,CAAC;EAChC,CAAC;EAED,MAAMqB,qBAAqB,GAAIC,YAAY,IAAK;IAC9C,IAAI,CAACA,YAAY,CAACL,MAAM,EAAE;MACxBL,UAAU,CAACU,YAAY,CAACT,EAAE,CAAC;IAC7B;IACAV,uBAAuB,CAACmB,YAAY,CAAC;IACrCjB,YAAY,CAAC,IAAI,CAAC;EACpB,CAAC;EAED,MAAMkB,UAAU,GAAGA,CAAA,KAAM;IACvBlB,YAAY,CAAC,KAAK,CAAC;IACnBF,uBAAuB,CAAC,IAAI,CAAC;EAC/B,CAAC;EAED,MAAMqB,qBAAqB,GAAGA,CAAA,KAAM;IAClC,IAAItB,oBAAoB,EAAE;MACxBqB,UAAU,CAAC,CAAC;MACZjB,QAAQ,CAAC,YAAYJ,oBAAoB,CAACuB,cAAc,EAAE,CAAC;IAC7D;EACF,CAAC;EAED,MAAMC,sBAAsB,GAAIJ,YAAY,IAAK;IAC/C,MAAM;MAAEK,IAAI;MAAEF;IAAe,CAAC,GAAGH,YAAY;IAC7C,QAAQK,IAAI;MACV,KAAK,MAAM;QACT,OAAO,GAAGF,cAAc,+BAA+B;MACzD,KAAK,SAAS;QACZ,OAAO,GAAGA,cAAc,4BAA4B;MACtD,KAAK,QAAQ;QACX,OAAO,GAAGA,cAAc,qBAAqB;MAC/C;QACE,OAAO,yBAAyBA,cAAc,EAAE;IACpD;EACF,CAAC;EAED,MAAMG,mBAAmB,GAAID,IAAI,IAAK;IACpC,QAAQA,IAAI;MACV,KAAK,MAAM;QACT,oBAAOtC,OAAA;UAAGwC,SAAS,EAAC;QAAqC;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC;MAChE,KAAK,SAAS;QACZ,oBAAO5C,OAAA;UAAGwC,SAAS,EAAC;QAA0C;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC;MACrE,KAAK,QAAQ;QACX,oBAAO5C,OAAA;UAAGwC,SAAS,EAAC;QAA2C;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC;MACtE;QACE,oBAAO5C,OAAA;UAAGwC,SAAS,EAAC;QAA+B;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC;IAC5D;EACF,CAAC;EAED,MAAMC,WAAW,GAAIC,SAAS,IAAK;IACjC,IAAI,CAACA,SAAS,EAAE,OAAO,qCAAqC;IAC5D,IAAIA,SAAS,CAACC,UAAU,CAAC,MAAM,CAAC,EAAE,OAAOD,SAAS;IAClD,OAAO,wBAAwBA,SAAS,EAAE;EAC5C,CAAC;EAED,oBACE9C,OAAA;IAAKwC,SAAS,EAAC,wBAAwB;IAAAQ,QAAA,gBACrChD,OAAA;MAAKwC,SAAS,EAAC,mBAAmB;MAACS,OAAO,EAAElB,cAAe;MAAAiB,QAAA,gBACzDhD,OAAA;QAAGwC,SAAS,EAAC;MAAa;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EAC9BvC,WAAW,GAAG,CAAC,iBAAIL,OAAA;QAAMwC,SAAS,EAAC,oBAAoB;QAAAQ,QAAA,EAAE3C;MAAW;QAAAoC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC1E,CAAC,EAELjC,YAAY,iBACXX,OAAA;MAAKwC,SAAS,EAAC,uBAAuB;MAAAQ,QAAA,gBACpChD,OAAA;QAAKwC,SAAS,EAAC,qBAAqB;QAAAQ,QAAA,gBAClChD,OAAA;UAAAgD,QAAA,EAAI;QAAc;UAAAP,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,EACtBvC,WAAW,GAAG,CAAC,iBACdL,OAAA;UAAQwC,SAAS,EAAC,eAAe;UAACS,OAAO,EAAEnB,aAAc;UAAAkB,QAAA,EAAC;QAE1D;UAAAP,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CACT;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,EAELrC,OAAO,gBACNP,OAAA;QAAKwC,SAAS,EAAC,sBAAsB;QAAAQ,QAAA,EAAC;MAAW;QAAAP,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,GACrDnC,KAAK,gBACPT,OAAA;QAAKwC,SAAS,EAAC,oBAAoB;QAAAQ,QAAA,EAAEvC;MAAK;QAAAgC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,GAC/CzC,aAAa,CAAC+C,MAAM,GAAG,CAAC,gBAC1BlD,OAAA;QAAKwC,SAAS,EAAC,mBAAmB;QAAAQ,QAAA,EAC/B7C,aAAa,CAACuB,GAAG,CAAEO,YAAY,iBAC9BjC,OAAA;UAEEwC,SAAS,EAAE,qBAAqB,CAACP,YAAY,CAACL,MAAM,GAAG,QAAQ,GAAG,EAAE,EAAG;UACvEqB,OAAO,EAAEA,CAAA,KAAMjB,qBAAqB,CAACC,YAAY,CAAE;UAAAe,QAAA,gBAEnDhD,OAAA;YAAKwC,SAAS,EAAC,qBAAqB;YAAAQ,QAAA,gBAClChD,OAAA;cACEmD,GAAG,EAAEN,WAAW,CAACZ,YAAY,CAACmB,kBAAkB,CAAC,IAAI,kBAAmB;cACxEC,GAAG,EAAEpB,YAAY,CAACG,cAAe;cACjCI,SAAS,EAAC,yBAAyB;cACnCc,OAAO,EAAGC,CAAC,IAAK;gBACdA,CAAC,CAACC,MAAM,CAACL,GAAG,GAAG,qCAAqC;cACtD;YAAE;cAAAV,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,EACDL,mBAAmB,CAACN,YAAY,CAACK,IAAI,CAAC;UAAA;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACpC,CAAC,eACN5C,OAAA;YAAKwC,SAAS,EAAC,sBAAsB;YAAAQ,QAAA,gBACnChD,OAAA;cAAAgD,QAAA,EAAIX,sBAAsB,CAACJ,YAAY;YAAC;cAAAQ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAC7C5C,OAAA;cAAMwC,SAAS,EAAC,mBAAmB;cAAAQ,QAAA,EAChC,IAAIS,IAAI,CAACxB,YAAY,CAACyB,SAAS,CAAC,CAACC,kBAAkB,CAAC;YAAC;cAAAlB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAClD,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACJ,CAAC,EACL,CAACX,YAAY,CAACL,MAAM,iBAAI5B,OAAA;YAAKwC,SAAS,EAAC;UAAkB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA,GArB5DX,YAAY,CAACT,EAAE;UAAAiB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAsBjB,CACN;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,gBAEN5C,OAAA;QAAKwC,SAAS,EAAC,oBAAoB;QAAAQ,QAAA,EAAC;MAAwB;QAAAP,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAClE,eAED5C,OAAA;QAAKwC,SAAS,EAAC,qBAAqB;QAAAQ,QAAA,eAClChD,OAAA,CAACJ,IAAI;UAACgE,EAAE,EAAC,gBAAgB;UAACpB,SAAS,EAAC,UAAU;UAAAQ,QAAA,EAAC;QAE/C;UAAAP,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN,EAEA7B,SAAS,IAAIF,oBAAoB,iBAChCb,OAAA;MAAKwC,SAAS,EAAC,4BAA4B;MAACS,OAAO,EAAEf,UAAW;MAAAc,QAAA,eAC9DhD,OAAA;QAAKwC,SAAS,EAAC,oBAAoB;QAACS,OAAO,EAAGM,CAAC,IAAKA,CAAC,CAACM,eAAe,CAAC,CAAE;QAAAb,QAAA,gBACtEhD,OAAA;UAAKwC,SAAS,EAAC,2BAA2B;UAAAQ,QAAA,gBACxChD,OAAA;YAAAgD,QAAA,EAAI;UAAY;YAAAP,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACrB5C,OAAA;YAAQwC,SAAS,EAAC,aAAa;YAACS,OAAO,EAAEf,UAAW;YAAAc,QAAA,EAAC;UAAC;YAAAP,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC5D,CAAC,eACN5C,OAAA;UAAKwC,SAAS,EAAC,4BAA4B;UAAAQ,QAAA,gBACzChD,OAAA;YAAKwC,SAAS,EAAC,yBAAyB;YAAAQ,QAAA,gBACtChD,OAAA;cACEmD,GAAG,EAAEN,WAAW,CAAChC,oBAAoB,CAACuC,kBAAkB,CAAE;cAC1DC,GAAG,EAAExC,oBAAoB,CAACuB,cAAe;cACzCI,SAAS,EAAC,2BAA2B;cACrCc,OAAO,EAAGC,CAAC,IAAK;gBACdA,CAAC,CAACC,MAAM,CAACL,GAAG,GAAG,qCAAqC;cACtD;YAAE;cAAAV,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eACF5C,OAAA;cAAKwC,SAAS,EAAC,8BAA8B;cAAAQ,QAAA,gBAC3ChD,OAAA;gBAAAgD,QAAA,EAAKnC,oBAAoB,CAACuB;cAAc;gBAAAK,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eAC9C5C,OAAA;gBAAGwC,SAAS,EAAC,yBAAyB;gBAAAQ,QAAA,GACnC,IAAIS,IAAI,CAAC5C,oBAAoB,CAAC6C,SAAS,CAAC,CAACC,kBAAkB,CAAC,CAAC,EAAC,GAAC,EAAC,GAAG,EACnE,IAAIF,IAAI,CAAC5C,oBAAoB,CAAC6C,SAAS,CAAC,CAACI,kBAAkB,CAAC,CAAC;cAAA;gBAAArB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC7D,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACD,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eACN5C,OAAA;YAAKwC,SAAS,EAAC,4BAA4B;YAAAQ,QAAA,eACzChD,OAAA;cAAAgD,QAAA,EAAIX,sBAAsB,CAACxB,oBAAoB;YAAC;cAAA4B,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAClD,CAAC,eACN5C,OAAA;YAAKwC,SAAS,EAAC,4BAA4B;YAAAQ,QAAA,eACzChD,OAAA;cAAQwC,SAAS,EAAC,gCAAgC;cAACS,OAAO,EAAEd,qBAAsB;cAAAa,QAAA,GAAC,gBACnE,EAACnC,oBAAoB,CAACuB,cAAc;YAAA;cAAAK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC5C;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAAA1C,EAAA,CAlNKD,gBAAgB;EAAA,QASHJ,WAAW;AAAA;AAAAkE,EAAA,GATxB9D,gBAAgB;AAoNtB,eAAeA,gBAAgB;AAAA,IAAA8D,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}